@use "abstracts/variables" as *;
@use "base/colors" as *;
@use "abstracts/mixins" as *;
@use "base/animations" as *;

.project-objective-section {
  background-color: $white;
  position: relative;
  overflow: hidden;
  margin: 0 auto;
  @include padding(6xl, y);

  &__container {
    margin: 0 auto;
    position: relative;
    z-index: 1;
    @include padding(xl, bottom);

    @include container-width(mobile);

    @include min-width(md) {
      @include container-width(tablet);
    }

    @include min-width(lg) {
      @include container-width(smalldesktop);
    }

    @include min-width(xl) {
      @include container-width(desktop);
    }
  }

  &__content-wrapper {
    position: relative;
    margin: auto 0;
    @include margin(3xl, bottom);
  }

  &__label {
    @include margin(md, bottom);
    position: relative;

    span {
      display: inline-block;
      @include font-size(sm);
      @include font-weight(semibold);
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: $black;
    }
  }

  &__title {
    @include font-size(3xl);
    @include font-weight(bold);
    color: $black;
    line-height: 1.15;
    @include margin(xl, bottom);
    max-width: 28ch;

    @include min-width(md) {
      @include font-size(4xl);
    }

    @include min-width(lg) {
      @include font-size(5xl);
    }

    .word {
      display: inline-block;
      position: relative;
    }

    .highlight {
      position: relative;
      display: inline-block;
      @include font-weight(medium);
      color: $black;
    }
  }

  &__text {
    @include font-size(lg);
    line-height: 1.6;
    color: rgba($black, 0.75);
    max-width: 100%;
    position: relative;
    @include margin(3xl, bottom);

    @include min-width(md) {
      max-width: 60vw;
    }

    p {
      @include margin(md, bottom);

      &:last-child {
        margin-bottom: 0;
      }
    }

    strong {
      color: $black;
      @include font-weight(bold);
    }
  }

  // Project Gallery Styles
  &__gallery {
    width: 100%;
    position: relative;
    overflow: hidden;
    @include container-width(mobile);
    margin: 0 auto;

    @include min-width(md) {
      @include container-width(unset);
    }

    .moving-gallery {
      width: 100%;
      @include margin(md, bottom);

      &.slider-wrap-top,
      &.slider-wrap-bottom {
        overflow: hidden;
      }

      .wrapper-gallery {
        display: flex;
        flex-direction: column;
        @include gap(md);
        will-change: transform;

        @include min-width(md) {
          flex-direction: row;
          @include gap(lg);
          min-width: min-content;
        }

        @include min-width(lg) {
          @include gap(xl);
        }
      }

      &.slider-wrap-top .wrapper-gallery {
        @include min-width(md) {
          justify-content: flex-start;
          align-items: baseline;
        }
      }

      &.slider-wrap-bottom .wrapper-gallery {
        @include min-width(md) {
          justify-content: flex-start;
        }
      }
    }

    &-item {
      position: relative;
      width: 100%;
      border-radius: 0;
      overflow: hidden;
      @include shadow(sm);
      transform-origin: center;
      transition: transform 0.3s ease;

      @include min-width(md) {
        flex: 0 0 auto;
        @include shadow(md);
      }

      &:hover {
        .image-container img {
          transform: scale(1.05);
        }
      }

      .image-container {
        position: relative;
        width: 100%;
        height: 250px;
        overflow: hidden;

        @include min-width(md) {
          height: 100%;
        }

        img {
          transition: transform 0.5s ease;
        }

        .image-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba($black, 0.05);
          transition: background-color 0.3s ease;
          z-index: 1;
        }

        .image-corner {
          display: none; // Hide decorative corners
        }
      }

      // Mobile specific sizing
      @include min-width(md) {
        // Top row items
        .slider-wrap-top & {
          &:nth-child(1) {
            width: 25%;
            height: 250px;
          }

          &:nth-child(2) {
            width: 40%;
            height: 350px;
          }

          &:nth-child(3) {
            width: 20%;
            height: 250px;
          }

          &:nth-child(4) {
            width: 25%;
            height: 300px;
          }
        }

        // Bottom row items
        .slider-wrap-bottom & {
          &:nth-child(1) {
            width: 25%;
            height: 300px;
          }

          &:nth-child(2) {
            width: 20%;
            height: 250px;
          }

          &:nth-child(3) {
            width: 40%;
            height: 350px;
          }

          &:nth-child(4) {
            width: 25%;
            height: 300px;
          }
        }
      }

      @include min-width(lg) {
        // Top row items
        .slider-wrap-top & {
          &:nth-child(1) {
            height: 250px;
          }

          &:nth-child(2) {
            height: 400px;
          }

          &:nth-child(3) {
            height: 300px;
          }

          &:nth-child(4) {
            height: 250px;
          }
        }

        // Bottom row items
        .slider-wrap-bottom & {
          &:nth-child(1) {
            height: 250px;
          }

          &:nth-child(2) {
            height: 300px;
          }

          &:nth-child(3) {
            height: 400px;
          }

          &:nth-child(4) {
            height: 350px;
          }
        }
      }
    }
  }

  // Stats styles
  &__stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    @include gap(xl);
    @include margin(md, top);

    @include min-width(md) {
      @include margin(md, left);
    }
  }

  &__stat-item {
    @include flex(column, flex-start, flex-start);
    @include gap(xs);
  }

  &__stat-number {
    @include font-size(3xl);
    @include font-weight(bold);
    color: $black;
    line-height: 1;
    position: relative;
  }

  &__stat-label {
    @include font-size(sm);
    color: rgba($black, 0.6);
    line-height: 1.4;
  }
}

// Here we add the fade animation classes
.fade_bottom {
  opacity: 0;
  transform: translateY(50px);
  transition: opacity 0.8s, transform 0.8s;
  will-change: opacity, transform;
}

.fade_left {
  opacity: 0;
  transform: translateX(-50px);
  transition: opacity 0.8s, transform 0.8s;
  will-change: opacity, transform;
}

.fade_right {
  opacity: 0;
  transform: translateX(50px);
  transition: opacity 0.8s, transform 0.8s;
  will-change: opacity, transform;
}

.fade_top {
  opacity: 0;
  transform: translateY(-50px);
  transition: opacity 0.8s, transform 0.8s;
  will-change: opacity, transform;
}